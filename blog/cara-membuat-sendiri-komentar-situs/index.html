<!doctype html><html lang="id"><head><meta charset="utf-8"><meta content="Pelajari cara membuat sistem komentar situs web sendiri menggunakan Supabase dan JavaScript. Panduan lengkap untuk menambah fitur interaktif di website Anda" name="description"><meta content="#ffffff" name="theme-color" media="(prefers-color-scheme: light)"><meta content="#1f1f1f" name="theme-color" media="(prefers-color-scheme: dark)"><meta content="supacomments, supabase, comment system, membuat komentar sendiri, sistem komentar, membuat sistem komentar sendiri." name="keyword"><meta content="" name="author"><meta content="width=device-width,initial-scale=1" name="viewport"><link href="/asset/index/favicon.ico" rel="icon" type="image/x-icon"><title>Cara Membuat Sendiri Komentar Situs Web Dengan Supabase Dan JS</title><meta content="Cara Membuat Sendiri Komentar Situs Web Dengan Supabase Dan JS" property="og:title"><meta content="https://apoxi.cam/asset/blog/comment.png" property="og:image"><meta content="summary_large_image" name="twitter:card"><meta content="Cara Membuat Sendiri Komentar Situs Web Dengan Supabase Dan JS" name="twitter:title"><meta content="Pelajari cara membuat sistem komentar situs web sendiri menggunakan Supabase dan JavaScript. Panduan lengkap untuk menambah fitur interaktif di website Anda" name="twitter:description" id="twitter-description"><meta content="https://apoxi.cam/asset/blog/comment.png" name="twitter:image"><link href="/asset/css/style.css" rel="stylesheet"><meta content="same-origin" name="view-transition"><link href="/asset/js/search.js" rel="modulepreload" as="script" crossorigin><link href="/asset/js/search-global.js" rel="modulepreload" as="script" crossorigin><script src="/asset/js/lazysizes.min.js"></script><script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","name":"Cara Membuat Sendiri Komentar Situs Web Dengan Supabase Dan JS","url":"https://apoxi.cam/blog/cara-membuat-sendiri-komentar-situs/"}</script></head><body class="bg-base-200"><div class="min-h-screen sm:hero"><div class="m-0 md:p-10 p-0 sm:container sm:mx-auto sm:p-4"><div class="the-card"><div class="rounded-t-xl the-navbar"><div class="navbar-start"><a href="/blog" class="btn btn-circle btn-ghost" aria-label="back"><svg class="h-5 w-5" fill="none" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" stroke="currentColor"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/></svg> </a><a href="/" class="btn btn-circle btn-ghost" aria-label="home"><svg class="h-5 w-5" fill="none" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" stroke="currentColor"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/><polyline points="9 22 9 12 15 12 15 22" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/></svg></a></div><div class="navbar-end"><button class="btn btn-circle btn-ghost" onclick="modalComment.showModal()" aria-label="comment"><svg class="h-5 w-5" fill="none" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"></path></svg></button> <button class="btn btn-circle btn-ghost" onclick="sharePost()" aria-label="share"><svg class="h-5 w-5" fill="none" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><circle cx="18" cy="5" r="3"/><circle cx="6" cy="12" r="3"/><circle cx="18" cy="19" r="3"/><line x1="8.59" x2="15.42" y1="13.51" y2="17.49"/><line x1="15.41" x2="8.59" y1="6.51" y2="10.49"/></svg></button><script>function copyToClipboard(){var e=document.getElementById("share-url");e.select(),e.setSelectionRange(0,99999),navigator.clipboard.writeText(e.value).then(()=>{alert("URL copied to clipboard")}).catch(e=>{console.error("Failed to copy: ",e)})}function sharePost(){navigator.share?navigator.share({title:document.title,url:location.href}).catch(e=>{"AbortError"!==e.name&&(console.warn("Failed to use native share API. ",e),share.showModal())}):share.showModal()}</script></div></div><div class="flex-grow"><div class="card-body pt-4 tn:pt-8"><div class="w-full"><div class="max-w-none prose"><h3>Cara Membuat Sendiri Komentar Situs Web Dengan Supabase Dan JS</h3><div class="text-sm mb-6 mt-0 mx-0">Sat, 30 Nov 2024</div><p>Setelah berselancar di internet dan mencoba berbagai macam comment system, akhirnya ku menemukan cara comment system dengan menggunakan Supabase dan JavaScript. Terima kasih kepada <a href="https://github.com/mcnaveen">MCNAVEEN</a> untuk karya yang luar biasa. Baik tanpa berpanjang-lebar, mari kita mulai.</p><h4>Membuat Database di Supabase</h4><ol><li>Buatlah akun di <a href="https://supabase.io/">Supabase</a>.</li><li>Setelah itu, buatlah project dan database baru.</li><li>Buatlah tabel baru dengan nama <code>comments</code> dan tambahkan kolom seperti di bawah.</li></ol><div class="not-prose overflow-x-auto"><table class="w-full table"><thead><tr class="bg-base-200 text-center"><th class="p-4 font-bold">Name</th><th class="p-4 font-bold">Type</th><th class="p-4 font-bold">Default Value</th></tr></thead><tbody><tr><td class="p-4">id</td><td class="p-4">int8</td><td class="p-4">-</td></tr><tr><td class="p-4">name</td><td class="p-4">text</td><td class="p-4">-</td></tr><tr><td class="p-4">email</td><td class="p-4">text</td><td class="p-4">-</td></tr><tr><td class="p-4">postURL</td><td class="p-4">text</td><td class="p-4">-</td></tr><tr><td class="p-4">comment</td><td class="p-4">text</td><td class="p-4">-</td></tr><tr><td class="p-4">created_at</td><td class="p-4">timestampz</td><td class="p-4">now()</td></tr><tr><td class="p-4">show</td><td class="p-4">boolean</td><td class="p-4">true</td></tr></tbody></table></div><ol start="4"><li>Buat <code>auth policies</code> dengan isi seperti di bawah:</li></ol><pre><code>CREATE POLICY "Allow users to view comments" ON public.comments FOR
SELECT
  TO authenticated,
  anon USING (
    SHOW = TRUE
  );

CREATE POLICY "Allow users to add comments" ON public.comments FOR INSERT TO authenticated,
anon
WITH
  CHECK (TRUE);
</code></pre><ol start="5"><li>Database sudah siap, selanjutnya buka menu <code>Project Settings</code> > <code>Configuration</code> > <code>API</code>. Copy <code>Project URL</code> dan <code>Project API Keys</code> pada bagian <code>anon public</code> yang nanti akan kita pakai untuk comment system.</li></ol><h4>Membuat System Comment</h4><ol><li>Clone supacomments dari github</li></ol><pre><code>git clone https://github.com/mcnaveen/SupaComments && cd supacomments
</code></pre><ol start="2"><li>Install dependencies</li></ol><pre><code>yarn install
</code></pre><ol start="3"><li>Buat file konfigurasi</li></ol><pre><code>cp .env.example .env
</code></pre><ol start="4"><li>Buka file <code>.env</code> dengan text editor favorit kalian lalu isikan nama domain kita (tanpa https://), <code>Project URL</code> dan <code>Project API Keys</code> dari supabase seperti di bawah:</li></ol><pre><code>SUPACOMMENT_HOST_URL=domainanda.site
SUPACOMMENT_SUPABASE_URL=https://xxxxxxxxxxxx.supabase.co
SUPACOMMENT_SUPABASE_ANON_KEY=falsdfadskfjaksdfj.hakdsfhlaksdjfhaklsdjhfaksdjf:jfkajdsfakjdshf
</code></pre><ol start="5"><li>Kita juga bisa mengedit layout comment system dengan mengubah semua isi file dalam directory <code>src/components</code>.</li><li>Build comment system dengan perintah:</li></ol><pre><code>yarn build
</code></pre><ol start="7"><li>Perintah di atas akan membuat file <code>comments.js</code> dan <code>comments.css</code> di dalam directory <code>pubic/build</code>.</li><li>Copy paste file tersebut ke situs anda misalnya <code>/asset/js/comments.js</code>. Oh iya, karena situsku menggunakan tailwind, aku tidak memerlukan <code>comments.css</code>. Sesuaikan saja.</li><li>Tambahkan baris berikut di layout post blog anda, jangan lupa ganti <code>yoursite.com</code> dengan domain situs kita (tanpa https://). Sesuaikan pula <code>src="/asset/js/comment.js"</code> dengan path file <code>comments.js</code> di situs kita.</li></ol><pre><code>&lt;div id="comments" data-url="yoursite.com" clickToLoad="false">&lt;/div>
&lt;script src="/asset/js/comments.js">
</code></pre><p>Push ke github dan deploy ke situs kita. Beres...</p><p>Untuk demo, klik tombol comment pada navbar di atas ya.</p><blockquote><p>Terimakasih sudah mampir</p></blockquote></div></div></div></div><div class="border-base-200 border-t"></div><div class="bg-base-100 card-action navbar px-4 rounded-b-xl"><div class="navbar-start"></div><div class="text-center navbar-center py-4"><p class="text-sm">Â© 2024 <a href="/" class="font-bold hover:underline text-primary">Apoxicam</a><br>All rights reserved</p></div><div class="navbar-end"><a href="/blog/aplikasi-kuitansi-sekolah-otomatis/" class="btn btn-circle btn-ghost" aria-label="previous"><svg class="h-5 w-5" fill="none" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" stroke="currentColor"><path d="M14 5l7 7m0 0l-7 7m7-7H3" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/></svg></a></div></div></div></div><dialog class="modal" id="share"><div class="modal-box"><div class="alert alert-warning mb-4" role="alert"><svg class="h-6 shrink-0 stroke-current w-6" fill="none" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/></svg> <span>Sorry, your system didn't support webShareAPI. Please click copy button below</span></div><div class="flex items-center"><input aria-label="link" class="w-full input input-bordered mr-4" disabled id="share-url" type="text" value="https://apoxi.cam/blog/cara-membuat-sendiri-komentar-situs/"> <button class="btn btn-primary" onclick="copyToClipboard()">Copy</button></div></div><form class="modal-backdrop" method="dialog"><button>close</button></form></dialog><dialog class="modal modal-bottom sm:modal-middle" id="modalComment"><div class="modal-box"><div clicktoload="false" data-url="apoxi.cam" id="comments"></div></div><form class="modal-backdrop" method="dialog"><button>close</button></form></dialog><script src="/asset/js/comments.js"></script></div></body></html>